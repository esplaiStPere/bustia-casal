(this["webpackJsonpbustia-esplai"]=this["webpackJsonpbustia-esplai"]||[]).push([[0],{31:function(e,a,t){e.exports=t(45)},36:function(e,a,t){},37:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),o=t.n(l);t(36),t(37);function s(){return r.a.createElement("div",{className:"headerStyle"},r.a.createElement("h1",{className:"mainTitle"},"B\xfastia"))}var c=function(){return r.a.createElement("div",{className:"left"},r.a.createElement(s,null))},i=t(24),u=t(25),m=t(30),d=t(29),E=t(6),v=t(15),f=t(13),h=t(11),p=t(27),g=t(28);function b(e){var a=e.noms,t=e.enviarEmail,n=e.error,l=e.success,o=e.loader,s=a.map((function(e){return r.a.createElement("option",{key:e.id},e)}));return r.a.createElement(E.a,{id:"form",className:"MainForm",onSubmit:t},r.a.createElement(f.a,{controlId:"NomInfant"},r.a.createElement(E.a.Label,null,"Escriu aqu\xed el teu nom"),r.a.createElement(E.a.Control,{required:!0,type:"text",placeholder:"El teu nom",autoComplete:"off"})),r.a.createElement(E.a.Group,{controlId:"monisSelect"},r.a.createElement(E.a.Label,null,"A quin monitor/a li vols enviar la noteta?"),r.a.createElement(E.a.Control,{as:"select",defaultChecked:"Tots els monitors i monitores"},s)),r.a.createElement(E.a.Group,{required:!0,controlId:"noteta"},r.a.createElement(E.a.Label,null,"Escriu aqu\xed la noteta"),r.a.createElement(E.a.Control,{as:"textarea",rows:"5"})),r.a.createElement(E.a.Group,{controlId:"replyEmail"},r.a.createElement(E.a.Label,null,"Si vols que el monitor/a et respongui, escriu el teu correu aqu\xed!"),r.a.createElement(E.a.Control,{type:"email",placeholder:"Escriu el teu correu aqu\xed"}),r.a.createElement(E.a.Text,{className:"text-muted"},"Assegura't que l'escrius b\xe9!")),r.a.createElement(h.a,{show:l,variant:"success"},r.a.createElement(h.a.Heading,null,"Missatge enviat correctament!"),r.a.createElement("p",null,"Ara ja pots esborrar la noteta o alg\xfa altre la podr\xe0 llegir!"),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(v.a,{onClick:function(){return window.location.reload(!1)},variant:"outline-success"},"Esborra la noteta!"))),r.a.createElement(h.a,{show:n,variant:"danger"},r.a.createElement(h.a.Heading,null,"Hi ha hagut un error a l'enviar la nota!"),r.a.createElement("p",null,"Prova a refrescar la p\xe0gina i tornar a escriure la nota"),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(v.a,{onClick:function(){return window.location.reload(!1)},variant:"outline-danger"},"Refresca la p\xe0gina"))),r.a.createElement(p.a,null,r.a.createElement(g.a,{className:"loadButton"},r.a.createElement(v.a,{variant:"primary",type:"submit",id:"enviar"},r.a.createElement("span",{className:"buttonText"},"Enviar noteta"),o?r.a.createElement("div",{className:"loaderContainer"}," ",r.a.createElement("div",{className:"loader"})," "):null))))}var y=function(e){return r.a.createElement("div",{className:"loading"},r.a.createElement("h1",null,"Carregant..."),r.a.createElement("div",{className:"lds-dual-ring"}))},w=t(8),N=t.n(w),S=(t(42),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={render:!0,listMonis:[],error:!1,success:!1,loader:!1,correu:""},e}return Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;N.a.apps.length||N.a.initializeApp({apiKey:"AIzaSyC8TUSkcnGAIq4zsqbCl4SXnqzvjYJj-b4",databaseURL:"https://bustia-casal.firebaseio.com"}),N.a.database().ref().off(),N.a.database().ref("0").once("value",(function(a){console.log("data.val(): ",a.val()),e.setState({listMonis:a.val(),render:!1})}))}},{key:"hola",value:function(e){var a=this;this.setState({loader:!0}),e.preventDefault();var t=document.getElementById("NomInfant"),n=document.getElementById("monisSelect"),r=document.getElementById("noteta"),l=document.getElementById("replyEmail"),o=this.state.listMonis.indexOf(n.value);N.a.database().ref().off(),N.a.database().ref("1").once("value",(function(e){a.setState({correu:e.val()[o]});var s={from_name:t.value,to_name:n.value,message_html:r.value,send_to:a.state.correu,reply_to:l.value};console.log(s),window.emailjs.send("gmail","template_NzzwThX7",s).then((function(e){console.log("Missatge enviat!"),a.setState({loader:!1,success:!0})})).catch((function(e){console.log("Missatge no enviat!"),a.setState({loader:!1,error:!0})}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"right"},this.state.render?r.a.createElement(y,null):r.a.createElement(b,{noms:this.state.listMonis,enviarEmail:this.hola.bind(this),error:this.state.error,success:this.state.success,loader:this.state.loader}))}}]),t}(n.Component));var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4504af3c.chunk.js.map